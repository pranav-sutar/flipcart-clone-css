<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    

</head>
<body>
    <!-- bold Navbar -->
     <div class="nav-fix">
    <nav>
        <div class="navbar1">
            <img src="/logo.svg" alt="logo">
            <div class="search-box">
                <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
                <input class="search" type="text" placeholder="Search for products, brands and more">
            </div>
            <div class="login">
                <i class="fa-regular fa-circle-user"></i>
                <select name="dropdown" id="login">
                    <option value="#">Login</option>
                </select>
            </div>
            <div class="cart">
                <a href="#"><i class="fa-solid fa-cart-shopping"></i>
                <span>Cart</span></a>
            </div>
            <div class="store">
                <a href="#"><i class="fa-solid fa-store"></i>
                <span>Become a seller</span></a>
            </div>
            <div class="more">
                <a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a>
            </div>
        </div>
        
    </nav>
  </div>
    <div class="body">
        <div class="box1">
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i1.webp" alt="1">
                    <span>Grocery</span>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i2.webp" alt="1">
                    <span>Mobiles</span>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i3.webp" alt="1">
                    <select name="mobiles" id=""><option value="mob">Fashion</option></select>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i4.png" alt="1">
                    <select name="mobiles" id=""><option value="mob">Electronics</option></select>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i5.webp" alt="1">
                    <select name="mobiles" id=""><option value="mob">Home & Furniture</option></select>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i6.webp" alt="1">
                    <span>Appliances</span>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i7.webp" alt="1">
                    <span>Travel</span>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i8.png" alt="1">
                    <select name="mobiles" id=""><option value="mob">Beauty, Toys and More</option></select>
                </a>
            </div>
            <div class="one">
                <a href="#" class="box-imgs">
                    <img src="./imgs/b1i9.png" alt="1">
                    <select name="mobiles" id=""><option value="mob">Two Wheelers</option></select>
                </a>
            </div>
        </div>
        <div class="box2">
            <section class="carousel">
                <div class="carousel_slider">
                  <div class="content_inner_slider">
                    <img src="./imgs/scroll/img01.webp" alt="" class="img">
                    <img src="./imgs/scroll/img02.webp" alt="" class="img">
                    <img src="./imgs/scroll/img03.webp" alt="" class="img">
                    <img src="./imgs/scroll/img04.webp" alt="" class="img">
                    <img src="./imgs/scroll/img05.webp" alt="" class="img">
                    <!-- <img src="./imgs/scroll/img06.webp" alt="" class="img"> -->
                    
                  </div>
                  <button class="prev_button">
                    <ion-icon name="chevron-back-outline"></ion-icon>
                  </button>
                  <button class="next_button">
                    <ion-icon name="chevron-forward-outline"></ion-icon>
                  </button>
                </div>
                <ul class="dots">
                  <li class="dot" value="0"></li>
                  <li class="dot" value="1"></li>
                  <li class="dot" value="2"></li>
                  <li class="dot" value="3"></li>
                  <li class="dot" value="4"></li>
                </ul>
              </section>
             
        </div>
        <div class="box3-base">
          <div class="box3_a">
            <div class="box3_up">
              <span>Best Deals on Smartphone</span>
              <a href="#"><img src="./imgs/scroll/arr.png" alt=""></a>
            </div>
            <div class="box3_low">
              <div class="one">
                <img src="./imgs/box2/b2_01.webp" alt="">
                <span>Realme P1 5G</span>
                <span><b>From ₹ 14,999</b></span>
              </div>
              <div class="one">
                <img src="./imgs/box2/b2_02.webp" alt="">
                <span>Realme P1 5G</span>
                <span><b>From ₹ 14,999</b></span>
              </div>
              <div class="one">
                <img src="./imgs/box2/b3_03.webp" alt="">
                <span>Realme P1 5G</span>
                <span><b>From ₹ 14,999</b></span>
              </div>
              <div class="one exception">
                <img src="./imgs/box2/b2_05.webp" alt="">
                <span>Realme P1 5G</span>
                <span><b>From ₹ 14,999</b></span>
              </div>
              <div class="one">
                <img src="./imgs/box2/b2_06.webp" alt="">
                <span>Realme P1 5G</span>
                <span><b>From ₹ 14,999</b></span>
              </div>
            </div>
            <img src="" alt="">
        </div>
        <div class="box3_b">
            <img src="./imgs/box2/adv.webp" alt="img">
      </div>

        </div>
        <div class="box4">
          <a href="#"><img src="./imgs/box3/b3_1.webp" alt=""></a>
          <a href="#"><img src="./imgs/box3/b3_2.webp" alt=""></a>
          <a href="#"><img src="./imgs/box3/b3_3.webp" alt=""></a>
        </div>
    </div>
    <div class="box4-base">
      <div class="box4_a">
        <div class="box3_up">
          <span>Best Deals on Smartphone</span>
          <a href="#"><img src="./imgs/scroll/arr.png" alt=""></a>
        </div>
        <div class="box3_low">
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_1.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_2.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_3.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_4.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_5.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          <div class="two">
            <a href="#"><img src="./imgs/box4/b4_6.webp" alt=""></a>
            <span>Realme P1 5G</span>
            <span><b>From ₹ 14,999</b></span>
          </div>
          
        </div>
      
    </div>
    

    </div>
</body>
<script>
    // The code will be long
// because I want to use MVC Design Pattern for this.

window.onload = function () {
  const helpers = (function () {
    function getDOMElements(DOMSelectors) {
      let DOMElements = {};
      for (let selector in DOMSelectors) {
        if (DOMSelectors.hasOwnProperty(selector)) {
          DOMElements[selector] = document.querySelector(
            DOMSelectors[selector]
          );
        }
      }
      return DOMElements;
    }
    return {
      getDOMElements
    };
  })();

  const modal = (function () {
    const state = {
      counter: 0,
      intervalID: 0
    };
    let CONSTANTS = {
      ACTIVE_CLASS_NAME: "active",
      TIMER: 3000,
      TRANSITION: "all .4s ease-out"
    };
    function addConstant(key, value) {
      CONSTANTS[key] = value;
    }

    return {
      state,
      CONSTANTS,
      addConstant
    };
  })();

  const view = (function (helpers) {
    const DOMSelectors = {
      carouselInnerSlider: ".content_inner_slider",
      dots: ".dots",
      slide: "#slide",
      prevButton: ".prev_button",
      nextButton: ".next_button",
      carouselImages: ".content_inner_slider > img",
      dot: ".dot"
    };
    const DOMElements = helpers.getDOMElements(DOMSelectors);
    const CAROUSEL_IMAGES = [
      ...document.querySelectorAll(DOMSelectors.carouselImages)
    ];
    const DOTS = [...document.querySelectorAll(DOMSelectors.dot)];
    function moveSliderToIndex(IMAGE_SIZE, index) {
      DOMElements.carouselInnerSlider.style.transform = `translateX(-${
        IMAGE_SIZE * index
      }px)`;
    }
    function addClassToIndex(className, index) {
      CAROUSEL_IMAGES[index].classList.add(className);
    }
    function removeClassToIndex(className, index) {
      CAROUSEL_IMAGES[index].classList.remove(className);
    }
    function addBackGroundToCurrentIndex(index) {
      DOTS[index].style.background = "#000";
    }
    function removeBackGroundToCurrentIndex(index) {
      DOTS[index].style.background = "transparent";
    }
    function setTransition(element, transition) {
      element.style.transition = `${transition}`;
    }
    return {
      DOMSelectors,
      moveSliderToIndex,
      addClassToIndex,
      removeClassToIndex,
      addBackGroundToCurrentIndex,
      removeBackGroundToCurrentIndex,
      setTransition
    };
  })(helpers);

  const controller = (function (modal, view, helpers) {
    const DOMSelectors = view.DOMSelectors;
    const DOMElements = helpers.getDOMElements(DOMSelectors);
    function initApp() {
      const imageSize = DOMElements.carouselInnerSlider.clientWidth;
      const imagesCount =
        [...document.querySelectorAll(DOMSelectors.carouselImages)].length - 1;
      modal.addConstant("IMAGE_SIZE", imageSize);
      modal.addConstant("TOTAL_IMAGES", imagesCount);
      view.moveSliderToIndex(modal.CONSTANTS.IMAGE_SIZE, modal.state.counter);
      handleAdding();
      DOMElements.nextButton.addEventListener("click", handleNextImage);
      DOMElements.prevButton.addEventListener("click", handlePrevImage);
      DOMElements.dots.addEventListener("click", handleDotClick);
      DOMElements.slide.addEventListener("change", handleSlide);
    }
    function removeEventListeners() {
      DOMElements.nextButton.removeEventListener("click", handleNextImage);
      DOMElements.prevButton.removeEventListener("click", handlePrevImage);
      DOMElements.dots.removeEventListener("click", handleDotClick);
      DOMElements.slide.removeEventListener("change", handleSlide);
    }
    function handleNextImage() {
      handleRemove();
      if (modal.state.counter === modal.CONSTANTS.TOTAL_IMAGES) {
        modal.state.counter = -1;
      }
      modal.state.counter += 1;
      handleAdding();
      view.moveSliderToIndex(modal.CONSTANTS.IMAGE_SIZE, modal.state.counter);
    }
    function handlePrevImage() {
      handleRemove();
      if (modal.state.counter === 0) {
        modal.state.counter = modal.CONSTANTS.TOTAL_IMAGES + 1;
      }
      modal.state.counter -= 1;
      handleAdding();
      view.moveSliderToIndex(modal.CONSTANTS.IMAGE_SIZE, modal.state.counter);
    }
    function handleDotClick(event) {
      const value = Number(event.target.value);
      if (!isNaN(value)) {
        handleRemove();
        modal.state.counter = value;
        view.moveSliderToIndex(modal.CONSTANTS.IMAGE_SIZE, modal.state.counter);
        handleAdding();
      }
    }
    function handleSlide(event) {
  // Ensure the interval is always set
  if (!modal.state.intervalID) {
    modal.state.intervalID = setInterval(() => {
      handleNextImage();
    }, modal.CONSTANTS.TIMER);
  }
}

// Call handleSlide function directly to ensure the interval is set when the script runs
handleSlide();

    function handleRemove() {
      view.removeClassToIndex(
        modal.CONSTANTS.ACTIVE_CLASS_NAME,
        modal.state.counter
      );
      view.removeBackGroundToCurrentIndex(modal.state.counter);
    }
    function handleAdding() {
      view.addClassToIndex(
        modal.CONSTANTS.ACTIVE_CLASS_NAME,
        modal.state.counter
      );
      view.addBackGroundToCurrentIndex(modal.state.counter);
    }
    DOMElements.carouselInnerSlider.addEventListener(
      "transitionstart",
      removeEventListeners
    );
    DOMElements.carouselInnerSlider.addEventListener("transitionend", initApp);
    view.setTransition(
      DOMElements.carouselInnerSlider,
      modal.CONSTANTS.TRANSITION
    );
    return {
      initApp,
      removeEventListeners
    };
  })(modal, view, helpers);

  controller.initApp();

  window.addEventListener("resize", () => {
    controller.removeEventListeners();
    controller.initApp();
  });
};

</script>
</html>